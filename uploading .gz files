import pandas as pd
from Bio import SeqIO
import gzip
import os


df = pd.DataFrame(columns = ['Quality', 'GC', 'N', 'Length'])


folder=r'New folder'

list_of_files = os.listdir(folder)

for file in list_of_files:

    file_name = folder+str('\\') + str(file)

    with gzip.open(file_name, 'rt', encoding='utf-8') as f:

        try:
            for record in SeqIO.parse(f, "fastq"):

                quality=(int(sum((record.letter_annotations["phred_quality"])) / len((record.letter_annotations["phred_quality"]))))

                length=(len(record.seq))

                GC=(int(((record.seq.count('G') + record.seq.count('C')) / len(record.seq)) * 100))

                N=(int(((record.seq.count('N')/ len(record.seq)) * 100)))

                df.loc[record.id] = [quality, GC, N, length]

        except EOFError:
            continue
